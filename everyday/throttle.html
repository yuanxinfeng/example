<!--
 * @Description: 节流
 * @Author: Jasper
 * @Github: https://github.com/yuanxinfeng
 * @Date: 2019-10-30 17:01:25
 * @LastEditors: Jasper
 * @LastEditTime: 2019-10-30 17:28:55
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>throttle</title>
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      div{
       padding: 10px;
       margin: 10px;
      }
    </style>
  </head>
  <body>
   <div>
     <h1>宽:</h1>
     <input type="text" id="cw" />
     <h1>高:</h1>
     <input type="text" id="ch" />
   </div>
  </body>
  <script>
    let cw = document.getElementById("cw");
    let ch = document.getElementById("ch");
    cw.value = document.body.clientWidth;
    ch.value = document.body.clientHeight;
    function throttle(_func_) {
      let run = true;
      return function() {
        if (!run) return;
        run = false;
        setTimeout(() => {
          _func_.apply(this, arguments);
          run = true;
        }, 300);
      };
    }
    function sayHi(e) {
      cw.value = e.target.innerWidth;
      ch.value = e.target.innerHeight;
      console.log(e.target.innerWidth, e.target.innerHeight);
    }
    window.addEventListener("resize", throttle(sayHi));
  </script>
</html>
